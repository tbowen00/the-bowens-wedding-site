{"ast":null,"code":"var _jsxFileName = \"/Users/brooklynlanning/Desktop/Event Websites/the-bowens-wedding-site/src/modals/PhotoUploadModal/PhotoUploadModal.js\",\n  _s = $RefreshSig$();\n// src/modals/PhotoUploadModal/PhotoUploadModal.js\nimport React, { useState } from 'react';\nimport styles from './PhotoUploadModal.module.css';\nimport { jsxDEV as _jsxDEV, Fragment as _Fragment } from \"react/jsx-dev-runtime\";\nconst PhotoUploadModal = ({\n  isOpen,\n  onClose,\n  onUploadSuccess\n}) => {\n  _s();\n  const [selectedFiles, setSelectedFiles] = useState([]); // CHANGED: Array to hold multiple files\n  const [uploadStates, setUploadStates] = useState({}); // Stores progress, error, success for each file\n  const [isUploadingAll, setIsUploadingAll] = useState(false); // New state to track overall upload process\n  const [overallError, setOverallError] = useState(''); // New state for general errors\n\n  const CLOUDINARY_CLOUD_NAME = 'dtmhmxqiw'; // Your Cloud Name\n  const CLOUDINARY_UPLOAD_PRESET = 'wedding_upload_preset'; // Your Unsigned Upload Preset Name\n\n  const addFiles = newFiles => {\n    // Filter out duplicates based on name/size if desired\n    const validFiles = Array.from(newFiles).filter(file => file.type.startsWith('image/'));\n    setSelectedFiles(prevFiles => {\n      const updatedFiles = [...prevFiles];\n      validFiles.forEach(newFile => {\n        // Prevent adding the same file multiple times if already selected\n        if (!updatedFiles.some(existingFile => existingFile.name === newFile.name && existingFile.size === newFile.size)) {\n          updatedFiles.push(newFile);\n        }\n      });\n      return updatedFiles;\n    });\n    setUploadStates(prevStates => {\n      const newUploadStates = {\n        ...prevStates\n      };\n      validFiles.forEach(file => {\n        if (!newUploadStates[file.name]) {\n          // Initialize state for new files only\n          newUploadStates[file.name] = {\n            progress: 0,\n            error: '',\n            success: false,\n            url: '',\n            previewUrl: URL.createObjectURL(file) // Create preview URL\n          };\n        }\n      });\n      return newUploadStates;\n    });\n    setOverallError('');\n  };\n  const handleFileChange = event => {\n    addFiles(event.target.files);\n    event.target.value = null; // Clear input so same file can be selected again\n  };\n  const handleDrop = event => {\n    event.preventDefault();\n    event.currentTarget.classList.remove(styles['drag-over']); // Remove drag-over styling\n    addFiles(event.dataTransfer.files);\n  };\n  const handleDragOver = event => {\n    event.preventDefault();\n    event.currentTarget.classList.add(styles['drag-over']); // Add drag-over styling\n  };\n  const handleDragLeave = event => {\n    event.currentTarget.classList.remove(styles['drag-over']); // Remove drag-over styling\n  };\n  const removeFile = fileName => {\n    setSelectedFiles(prevFiles => prevFiles.filter(file => file.name !== fileName));\n    setUploadStates(prevStates => {\n      const newStates = {\n        ...prevStates\n      };\n      delete newStates[fileName];\n      return newStates;\n    });\n    setOverallError('');\n  };\n  const handleUploadAll = async () => {\n    if (selectedFiles.length === 0) {\n      setOverallError('Please select at least one file to upload.');\n      return;\n    }\n    setIsUploadingAll(true);\n    setOverallError('');\n    const uploadedUrls = [];\n    let hasError = false;\n    for (const file of selectedFiles) {\n      setUploadStates(prev => ({\n        ...prev,\n        [file.name]: {\n          ...prev[file.name],\n          progress: 0,\n          error: '',\n          success: false\n        }\n      }));\n      const reader = new FileReader();\n      reader.readAsDataURL(file);\n      await new Promise(resolve => {\n        reader.onloadend = async () => {\n          const base64data = reader.result;\n          try {\n            setUploadStates(prev => ({\n              ...prev,\n              [file.name]: {\n                ...prev[file.name],\n                progress: 1\n              }\n            })); // Indicate start\n            const response = await fetch('/.netlify/functions/upload-image', {\n              method: 'POST',\n              headers: {\n                'Content-Type': 'application/json'\n              },\n              body: JSON.stringify({\n                file: base64data\n              })\n            });\n            if (!response.ok) {\n              const errorData = await response.json();\n              throw new Error(errorData.message || 'Upload failed.');\n            }\n            const data = await response.json();\n            uploadedUrls.push(data.secure_url);\n            setUploadStates(prev => ({\n              ...prev,\n              [file.name]: {\n                ...prev[file.name],\n                progress: 100,\n                success: true,\n                url: data.secure_url\n              }\n            }));\n            console.log(`Uploaded ${file.name}:`, data.secure_url);\n          } catch (error) {\n            console.error(`Error uploading ${file.name}:`, error);\n            setUploadStates(prev => ({\n              ...prev,\n              [file.name]: {\n                ...prev[file.name],\n                error: error.message || 'Failed',\n                success: false\n              }\n            }));\n            hasError = true;\n          } finally {\n            resolve(); // Resolve the promise to continue loop\n          }\n        };\n        reader.onerror = () => {\n          setUploadStates(prev => ({\n            ...prev,\n            [file.name]: {\n              ...prev[file.name],\n              error: 'Failed to read file.',\n              success: false\n            }\n          }));\n          hasError = true;\n          resolve();\n        };\n      });\n    }\n    setIsUploadingAll(false);\n    if (!hasError) {\n      onUploadSuccess(uploadedUrls); // Pass array of URLs\n      setSelectedFiles([]); // Clear selected files after successful upload of all\n      setUploadStates({}); // Clear upload states\n      onClose(); // Close modal on overall success\n    } else {\n      setOverallError('Some files failed to upload. Please check errors above.');\n    }\n  };\n  const handleDone = () => {\n    // Renamed handleSubmit to handleDone for clarity after multiple uploads\n    onClose();\n  };\n  if (!isOpen) return null;\n  const hasFilesSelected = selectedFiles.length > 0;\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: `simple-modal ${isOpen ? 'show' : ''}`,\n    onClick: onClose,\n    role: \"dialog\",\n    \"aria-modal\": \"true\",\n    children: /*#__PURE__*/_jsxDEV(\"div\", {\n      className: `simple-modal-content ${styles['photo-upload-modal-content']}`,\n      onClick: e => e.stopPropagation(),\n      children: [/*#__PURE__*/_jsxDEV(\"button\", {\n        className: styles['close-button'],\n        onClick: onClose,\n        disabled: isUploadingAll,\n        children: /*#__PURE__*/_jsxDEV(\"svg\", {\n          xmlns: \"http://www.w3.org/2000/svg\",\n          viewBox: \"0 0 24 24\",\n          fill: \"currentColor\",\n          className: \"w-6 h-6\",\n          children: /*#__PURE__*/_jsxDEV(\"path\", {\n            fillRule: \"evenodd\",\n            d: \"M5.47 5.47a.75.75 0 011.06 0L12 10.94l5.47-5.47a.75.75 0 111.06 1.06L13.06 12l5.47 5.47a.75.75 0 11-1.06 1.06L12 13.06l-5.47 5.47a.75.75 0 01-1.06-1.06L10.94 12 5.47 6.53a.75.75 0 010-1.06z\",\n            clipRule: \"evenodd\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 158,\n            columnNumber: 25\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 157,\n          columnNumber: 21\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 156,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"h2\", {\n        className: styles['modal-title'],\n        children: \"Upload and attach files\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 162,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n        className: styles['modal-subtitle'],\n        children: \"Upload and attach files to this project.\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 163,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: `${styles['upload-area']} ${styles['drag-drop-box']} ${hasFilesSelected ? styles['has-files'] : ''}`,\n        onDrop: handleDrop,\n        onDragOver: handleDragOver,\n        onDragLeave: handleDragLeave,\n        children: !hasFilesSelected ? /*#__PURE__*/_jsxDEV(_Fragment, {\n          children: [/*#__PURE__*/_jsxDEV(\"svg\", {\n            xmlns: \"http://www.w3.org/2000/svg\",\n            viewBox: \"0 0 24 24\",\n            fill: \"currentColor\",\n            className: styles['cloud-upload-icon'],\n            children: /*#__PURE__*/_jsxDEV(\"path\", {\n              fillRule: \"evenodd\",\n              d: \"M11.47 2.47a.75.75 0 011.06 0l3.75 3.75a.75.75 0 01-1.06 1.06L12.75 4.81V16.5a.75.75 0 01-1.5 0V4.81L8.78 7.28a.75.75 0 01-1.06-1.06l3.75-3.75zM2.25 10.5a.75.75 0 01.75-.75h1.5a.75.75 0 010 1.5H3a.75.75 0 01-.75-.75zM16.5 9.75a.75.75 0 000 1.5h1.5a.75.75 0 000-1.5h-1.5zM2.25 14.25a.75.75 0 01.75-.75h1.5a.75.75 0 010 1.5H3a.75.75 0 01-.75-.75zM16.5 13.5a.75.75 0 000 1.5h1.5a.75.75 0 000-1.5h-1.5zM6.095 19.957a.75.75 0 01.374-.608l2.5-1.75a.75.75 0 01.936.883l-1.454 2.057l1.722 1.289a.75.75 0 01-.608 1.258l-2.5-1.75a.75.75 0 01-.374-.608V19.957zM14.205 19.957a.75.75 0 01.374-.608l2.5-1.75a.75.75 0 01.936.883l-1.454 2.057l1.722 1.289a.75.75 0 01-.608 1.258l-2.5-1.75a.75.75 0 01-.374-.608V19.957zM2.25 18a.75.75 0 01.75-.75h1.5a.75.75 0 010 1.5H3a.75.75 0 01-.75-.75zM16.5 17.25a.75.75 0 000 1.5h1.5a.75.75 0 000-1.5h-1.5z\",\n              clipRule: \"evenodd\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 174,\n              columnNumber: 33\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 173,\n            columnNumber: 29\n          }, this), /*#__PURE__*/_jsxDEV(\"label\", {\n            htmlFor: \"photo-upload-input\",\n            className: styles['upload-text-prompt'],\n            children: [\"Click to upload or drag and drop\", /*#__PURE__*/_jsxDEV(\"span\", {\n              className: styles['upload-hint'],\n              children: \"SVG, PNG, JPG or GIF (max. 800x400px)\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 178,\n              columnNumber: 33\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 176,\n            columnNumber: 29\n          }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n            type: \"file\",\n            accept: \"image/svg+xml,image/png,image/jpeg,image/gif\",\n            onChange: handleFileChange,\n            className: styles['file-input'],\n            id: \"photo-upload-input\",\n            multiple: true // Allow multiple file selection\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 180,\n            columnNumber: 29\n          }, this)]\n        }, void 0, true) : /*#__PURE__*/_jsxDEV(\"div\", {\n          className: styles['file-list-container'],\n          children: [\" \", selectedFiles.map(file => {\n            var _uploadStates$file$na, _uploadStates$file$na2, _uploadStates$file$na3, _uploadStates$file$na4, _uploadStates$file$na5;\n            return /*#__PURE__*/_jsxDEV(\"div\", {\n              className: styles['file-preview-item'],\n              children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                className: styles['file-thumbnail'],\n                children: ((_uploadStates$file$na = uploadStates[file.name]) === null || _uploadStates$file$na === void 0 ? void 0 : _uploadStates$file$na.previewUrl) && /*#__PURE__*/_jsxDEV(\"img\", {\n                  src: uploadStates[file.name].previewUrl,\n                  alt: \"Selected preview\",\n                  className: styles['thumbnail-image']\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 194,\n                  columnNumber: 81\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 193,\n                columnNumber: 37\n              }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                className: styles['file-details'],\n                children: [/*#__PURE__*/_jsxDEV(\"p\", {\n                  className: styles['file-name'],\n                  children: file.name\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 197,\n                  columnNumber: 41\n                }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n                  className: styles['file-size'],\n                  children: [Math.round(file.size / 1024), \" KB\"]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 198,\n                  columnNumber: 41\n                }, this), ((_uploadStates$file$na2 = uploadStates[file.name]) === null || _uploadStates$file$na2 === void 0 ? void 0 : _uploadStates$file$na2.progress) > 0 && ((_uploadStates$file$na3 = uploadStates[file.name]) === null || _uploadStates$file$na3 === void 0 ? void 0 : _uploadStates$file$na3.progress) < 100 && /*#__PURE__*/_jsxDEV(\"div\", {\n                  className: styles['progress-wrapper'],\n                  children: /*#__PURE__*/_jsxDEV(\"div\", {\n                    className: styles['progress-bar'],\n                    style: {\n                      width: `${uploadStates[file.name].progress}%`\n                    }\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 203,\n                    columnNumber: 49\n                  }, this)\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 202,\n                  columnNumber: 45\n                }, this), ((_uploadStates$file$na4 = uploadStates[file.name]) === null || _uploadStates$file$na4 === void 0 ? void 0 : _uploadStates$file$na4.success) && /*#__PURE__*/_jsxDEV(\"span\", {\n                  className: styles['upload-status'],\n                  children: [/*#__PURE__*/_jsxDEV(\"svg\", {\n                    viewBox: \"0 0 24 24\",\n                    fill: \"currentColor\",\n                    className: styles['success-icon'],\n                    children: /*#__PURE__*/_jsxDEV(\"path\", {\n                      fillRule: \"evenodd\",\n                      d: \"M19.916 4.626a.75.75 0 01.208 1.04l-9 13.5a.75.75 0 01-1.154.114l-3-3a.75.75 0 011.06-1.06l2.769 2.769 8.792-13.188a.75.75 0 011.04-.208z\",\n                      clipRule: \"evenodd\"\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 206,\n                      columnNumber: 200\n                    }, this)\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 206,\n                    columnNumber: 120\n                  }, this), \" Uploaded\"]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 206,\n                  columnNumber: 78\n                }, this), ((_uploadStates$file$na5 = uploadStates[file.name]) === null || _uploadStates$file$na5 === void 0 ? void 0 : _uploadStates$file$na5.error) && /*#__PURE__*/_jsxDEV(\"p\", {\n                  className: styles['error-message'],\n                  children: uploadStates[file.name].error\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 207,\n                  columnNumber: 76\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 196,\n                columnNumber: 37\n              }, this), !isUploadingAll &&\n              /*#__PURE__*/\n              // Only show X if not currently uploading\n              _jsxDEV(\"button\", {\n                className: styles['remove-file-button'],\n                onClick: () => removeFile(file.name),\n                children: /*#__PURE__*/_jsxDEV(\"svg\", {\n                  xmlns: \"http://www.w3.org/2000/svg\",\n                  viewBox: \"0 0 24 24\",\n                  fill: \"currentColor\",\n                  className: \"w-6 h-6\",\n                  children: /*#__PURE__*/_jsxDEV(\"path\", {\n                    fillRule: \"evenodd\",\n                    d: \"M16.5 4.478l.271.272a.75.75 0 010 1.06L13.06 9.75l3.71 3.71a.75.75 0 01-1.06 1.06l-3.71-3.71l-3.71 3.71a.75.75 0 01-1.06-1.06l3.71-3.71l-3.71-3.71a.75.75 0 111.06-1.06l3.71 3.71l3.71-3.71a.75.75 0 011.06 0z\",\n                    clipRule: \"evenodd\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 213,\n                    columnNumber: 49\n                  }, this)\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 212,\n                  columnNumber: 45\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 211,\n                columnNumber: 41\n              }, this)]\n            }, file.name, true, {\n              fileName: _jsxFileName,\n              lineNumber: 192,\n              columnNumber: 33\n            }, this);\n          }), !isUploadingAll && /*#__PURE__*/_jsxDEV(\"label\", {\n            htmlFor: \"photo-upload-input\",\n            className: styles['add-more-files-label'],\n            children: \"+ Add More Files\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 221,\n            columnNumber: 33\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 190,\n          columnNumber: 25\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 165,\n        columnNumber: 17\n      }, this), overallError && /*#__PURE__*/_jsxDEV(\"p\", {\n        className: styles['overall-error-message'],\n        children: overallError\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 229,\n        columnNumber: 34\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: styles['button-row'],\n        children: [/*#__PURE__*/_jsxDEV(\"button\", {\n          className: `button ${styles['upload-button']}`,\n          onClick: handleUploadAll // CHANGED: Upload all selected files\n          ,\n          disabled: selectedFiles.length === 0 || isUploadingAll,\n          children: isUploadingAll ? 'Uploading All...' : 'Upload All'\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 233,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n          className: styles['cancel-button-override'],\n          onClick: handleDone,\n          disabled: isUploadingAll,\n          children: \"Done\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 240,\n          columnNumber: 21\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 232,\n        columnNumber: 17\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 155,\n      columnNumber: 13\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 154,\n    columnNumber: 9\n  }, this);\n};\n_s(PhotoUploadModal, \"alwDIU4AwfRIL4cVGnlEs/Ut49g=\");\n_c = PhotoUploadModal;\nexport default PhotoUploadModal;\nvar _c;\n$RefreshReg$(_c, \"PhotoUploadModal\");","map":{"version":3,"names":["React","useState","styles","jsxDEV","_jsxDEV","Fragment","_Fragment","PhotoUploadModal","isOpen","onClose","onUploadSuccess","_s","selectedFiles","setSelectedFiles","uploadStates","setUploadStates","isUploadingAll","setIsUploadingAll","overallError","setOverallError","CLOUDINARY_CLOUD_NAME","CLOUDINARY_UPLOAD_PRESET","addFiles","newFiles","validFiles","Array","from","filter","file","type","startsWith","prevFiles","updatedFiles","forEach","newFile","some","existingFile","name","size","push","prevStates","newUploadStates","progress","error","success","url","previewUrl","URL","createObjectURL","handleFileChange","event","target","files","value","handleDrop","preventDefault","currentTarget","classList","remove","dataTransfer","handleDragOver","add","handleDragLeave","removeFile","fileName","newStates","handleUploadAll","length","uploadedUrls","hasError","prev","reader","FileReader","readAsDataURL","Promise","resolve","onloadend","base64data","result","response","fetch","method","headers","body","JSON","stringify","ok","errorData","json","Error","message","data","secure_url","console","log","onerror","handleDone","hasFilesSelected","className","onClick","role","children","e","stopPropagation","disabled","xmlns","viewBox","fill","fillRule","d","clipRule","_jsxFileName","lineNumber","columnNumber","onDrop","onDragOver","onDragLeave","htmlFor","accept","onChange","id","multiple","map","_uploadStates$file$na","_uploadStates$file$na2","_uploadStates$file$na3","_uploadStates$file$na4","_uploadStates$file$na5","src","alt","Math","round","style","width","_c","$RefreshReg$"],"sources":["/Users/brooklynlanning/Desktop/Event Websites/the-bowens-wedding-site/src/modals/PhotoUploadModal/PhotoUploadModal.js"],"sourcesContent":["// src/modals/PhotoUploadModal/PhotoUploadModal.js\nimport React, { useState } from 'react';\nimport styles from './PhotoUploadModal.module.css';\n\nconst PhotoUploadModal = ({ isOpen, onClose, onUploadSuccess }) => {\n    const [selectedFiles, setSelectedFiles] = useState([]); // CHANGED: Array to hold multiple files\n    const [uploadStates, setUploadStates] = useState({}); // Stores progress, error, success for each file\n    const [isUploadingAll, setIsUploadingAll] = useState(false); // New state to track overall upload process\n    const [overallError, setOverallError] = useState(''); // New state for general errors\n\n    const CLOUDINARY_CLOUD_NAME = 'dtmhmxqiw'; // Your Cloud Name\n    const CLOUDINARY_UPLOAD_PRESET = 'wedding_upload_preset'; // Your Unsigned Upload Preset Name\n\n    const addFiles = (newFiles) => {\n        // Filter out duplicates based on name/size if desired\n        const validFiles = Array.from(newFiles).filter(file => file.type.startsWith('image/'));\n        setSelectedFiles(prevFiles => {\n            const updatedFiles = [...prevFiles];\n            validFiles.forEach(newFile => {\n                // Prevent adding the same file multiple times if already selected\n                if (!updatedFiles.some(existingFile => existingFile.name === newFile.name && existingFile.size === newFile.size)) {\n                    updatedFiles.push(newFile);\n                }\n            });\n            return updatedFiles;\n        });\n\n        setUploadStates(prevStates => {\n            const newUploadStates = { ...prevStates };\n            validFiles.forEach(file => {\n                if (!newUploadStates[file.name]) { // Initialize state for new files only\n                    newUploadStates[file.name] = {\n                        progress: 0,\n                        error: '',\n                        success: false,\n                        url: '',\n                        previewUrl: URL.createObjectURL(file) // Create preview URL\n                    };\n                }\n            });\n            return newUploadStates;\n        });\n        setOverallError('');\n    };\n\n    const handleFileChange = (event) => {\n        addFiles(event.target.files);\n        event.target.value = null; // Clear input so same file can be selected again\n    };\n\n    const handleDrop = (event) => {\n        event.preventDefault();\n        event.currentTarget.classList.remove(styles['drag-over']); // Remove drag-over styling\n        addFiles(event.dataTransfer.files);\n    };\n\n    const handleDragOver = (event) => {\n        event.preventDefault();\n        event.currentTarget.classList.add(styles['drag-over']); // Add drag-over styling\n    };\n\n    const handleDragLeave = (event) => {\n        event.currentTarget.classList.remove(styles['drag-over']); // Remove drag-over styling\n    };\n\n    const removeFile = (fileName) => {\n        setSelectedFiles(prevFiles => prevFiles.filter(file => file.name !== fileName));\n        setUploadStates(prevStates => {\n            const newStates = { ...prevStates };\n            delete newStates[fileName];\n            return newStates;\n        });\n        setOverallError('');\n    };\n\n    const handleUploadAll = async () => {\n        if (selectedFiles.length === 0) {\n            setOverallError('Please select at least one file to upload.');\n            return;\n        }\n\n        setIsUploadingAll(true);\n        setOverallError('');\n        const uploadedUrls = [];\n        let hasError = false;\n\n        for (const file of selectedFiles) {\n            setUploadStates(prev => ({\n                ...prev,\n                [file.name]: { ...prev[file.name], progress: 0, error: '', success: false }\n            }));\n\n            const reader = new FileReader();\n            reader.readAsDataURL(file);\n\n            await new Promise(resolve => {\n                reader.onloadend = async () => {\n                    const base64data = reader.result;\n\n                    try {\n                        setUploadStates(prev => ({ ...prev, [file.name]: { ...prev[file.name], progress: 1 } })); // Indicate start\n                        const response = await fetch('/.netlify/functions/upload-image', {\n                            method: 'POST',\n                            headers: { 'Content-Type': 'application/json' },\n                            body: JSON.stringify({ file: base64data }),\n                        });\n\n                        if (!response.ok) {\n                            const errorData = await response.json();\n                            throw new Error(errorData.message || 'Upload failed.');\n                        }\n\n                        const data = await response.json();\n                        uploadedUrls.push(data.secure_url);\n                        setUploadStates(prev => ({ ...prev, [file.name]: { ...prev[file.name], progress: 100, success: true, url: data.secure_url } }));\n                        console.log(`Uploaded ${file.name}:`, data.secure_url);\n\n                    } catch (error) {\n                        console.error(`Error uploading ${file.name}:`, error);\n                        setUploadStates(prev => ({ ...prev, [file.name]: { ...prev[file.name], error: error.message || 'Failed', success: false } }));\n                        hasError = true;\n                    } finally {\n                        resolve(); // Resolve the promise to continue loop\n                    }\n                };\n                reader.onerror = () => {\n                    setUploadStates(prev => ({ ...prev, [file.name]: { ...prev[file.name], error: 'Failed to read file.', success: false } }));\n                    hasError = true;\n                    resolve();\n                };\n            });\n        }\n\n        setIsUploadingAll(false);\n        if (!hasError) {\n            onUploadSuccess(uploadedUrls); // Pass array of URLs\n            setSelectedFiles([]); // Clear selected files after successful upload of all\n            setUploadStates({}); // Clear upload states\n            onClose(); // Close modal on overall success\n        } else {\n            setOverallError('Some files failed to upload. Please check errors above.');\n        }\n    };\n\n    const handleDone = () => { // Renamed handleSubmit to handleDone for clarity after multiple uploads\n        onClose();\n    };\n\n    if (!isOpen) return null;\n\n    const hasFilesSelected = selectedFiles.length > 0;\n\n    return (\n        <div className={`simple-modal ${isOpen ? 'show' : ''}`} onClick={onClose} role=\"dialog\" aria-modal=\"true\">\n            <div className={`simple-modal-content ${styles['photo-upload-modal-content']}`} onClick={e => e.stopPropagation()}>\n                <button className={styles['close-button']} onClick={onClose} disabled={isUploadingAll}>\n                    <svg xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 0 24 24\" fill=\"currentColor\" className=\"w-6 h-6\">\n                        <path fillRule=\"evenodd\" d=\"M5.47 5.47a.75.75 0 011.06 0L12 10.94l5.47-5.47a.75.75 0 111.06 1.06L13.06 12l5.47 5.47a.75.75 0 11-1.06 1.06L12 13.06l-5.47 5.47a.75.75 0 01-1.06-1.06L10.94 12 5.47 6.53a.75.75 0 010-1.06z\" clipRule=\"evenodd\" />\n                    </svg>\n                </button>\n\n                <h2 className={styles['modal-title']}>Upload and attach files</h2>\n                <p className={styles['modal-subtitle']}>Upload and attach files to this project.</p>\n\n                <div\n                    className={`${styles['upload-area']} ${styles['drag-drop-box']} ${hasFilesSelected ? styles['has-files'] : ''}`}\n                    onDrop={handleDrop}\n                    onDragOver={handleDragOver}\n                    onDragLeave={handleDragLeave}\n                >\n                    {!hasFilesSelected ? (\n                        <>\n                            <svg xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 0 24 24\" fill=\"currentColor\" className={styles['cloud-upload-icon']}>\n                                <path fillRule=\"evenodd\" d=\"M11.47 2.47a.75.75 0 011.06 0l3.75 3.75a.75.75 0 01-1.06 1.06L12.75 4.81V16.5a.75.75 0 01-1.5 0V4.81L8.78 7.28a.75.75 0 01-1.06-1.06l3.75-3.75zM2.25 10.5a.75.75 0 01.75-.75h1.5a.75.75 0 010 1.5H3a.75.75 0 01-.75-.75zM16.5 9.75a.75.75 0 000 1.5h1.5a.75.75 0 000-1.5h-1.5zM2.25 14.25a.75.75 0 01.75-.75h1.5a.75.75 0 010 1.5H3a.75.75 0 01-.75-.75zM16.5 13.5a.75.75 0 000 1.5h1.5a.75.75 0 000-1.5h-1.5zM6.095 19.957a.75.75 0 01.374-.608l2.5-1.75a.75.75 0 01.936.883l-1.454 2.057l1.722 1.289a.75.75 0 01-.608 1.258l-2.5-1.75a.75.75 0 01-.374-.608V19.957zM14.205 19.957a.75.75 0 01.374-.608l2.5-1.75a.75.75 0 01.936.883l-1.454 2.057l1.722 1.289a.75.75 0 01-.608 1.258l-2.5-1.75a.75.75 0 01-.374-.608V19.957zM2.25 18a.75.75 0 01.75-.75h1.5a.75.75 0 010 1.5H3a.75.75 0 01-.75-.75zM16.5 17.25a.75.75 0 000 1.5h1.5a.75.75 0 000-1.5h-1.5z\" clipRule=\"evenodd\" />\n                            </svg>\n                            <label htmlFor=\"photo-upload-input\" className={styles['upload-text-prompt']}>\n                                Click to upload or drag and drop\n                                <span className={styles['upload-hint']}>SVG, PNG, JPG or GIF (max. 800x400px)</span>\n                            </label>\n                            <input\n                                type=\"file\"\n                                accept=\"image/svg+xml,image/png,image/jpeg,image/gif\"\n                                onChange={handleFileChange}\n                                className={styles['file-input']}\n                                id=\"photo-upload-input\"\n                                multiple // Allow multiple file selection\n                            />\n                        </>\n                    ) : (\n                        <div className={styles['file-list-container']}> {/* New container for multiple file items */}\n                            {selectedFiles.map((file) => (\n                                <div key={file.name} className={styles['file-preview-item']}>\n                                    <div className={styles['file-thumbnail']}>\n                                        {uploadStates[file.name]?.previewUrl && <img src={uploadStates[file.name].previewUrl} alt=\"Selected preview\" className={styles['thumbnail-image']} />}\n                                    </div>\n                                    <div className={styles['file-details']}>\n                                        <p className={styles['file-name']}>{file.name}</p>\n                                        <p className={styles['file-size']}>{Math.round(file.size / 1024)} KB</p>\n                                        \n                                        {/* Progress bar and status for individual file */}\n                                        {uploadStates[file.name]?.progress > 0 && uploadStates[file.name]?.progress < 100 && (\n                                            <div className={styles['progress-wrapper']}>\n                                                <div className={styles['progress-bar']} style={{ width: `${uploadStates[file.name].progress}%` }}></div>\n                                            </div>\n                                        )}\n                                        {uploadStates[file.name]?.success && <span className={styles['upload-status']}><svg viewBox=\"0 0 24 24\" fill=\"currentColor\" className={styles['success-icon']}><path fillRule=\"evenodd\" d=\"M19.916 4.626a.75.75 0 01.208 1.04l-9 13.5a.75.75 0 01-1.154.114l-3-3a.75.75 0 011.06-1.06l2.769 2.769 8.792-13.188a.75.75 0 011.04-.208z\" clipRule=\"evenodd\" /></svg> Uploaded</span>}\n                                        {uploadStates[file.name]?.error && <p className={styles['error-message']}>{uploadStates[file.name].error}</p>}\n                                    </div>\n                                    {/* Delete/Remove button */}\n                                    {!isUploadingAll && ( // Only show X if not currently uploading\n                                        <button className={styles['remove-file-button']} onClick={() => removeFile(file.name)}>\n                                            <svg xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 0 24 24\" fill=\"currentColor\" className=\"w-6 h-6\">\n                                                <path fillRule=\"evenodd\" d=\"M16.5 4.478l.271.272a.75.75 0 010 1.06L13.06 9.75l3.71 3.71a.75.75 0 01-1.06 1.06l-3.71-3.71l-3.71 3.71a.75.75 0 01-1.06-1.06l3.71-3.71l-3.71-3.71a.75.75 0 111.06-1.06l3.71 3.71l3.71-3.71a.75.75 0 011.06 0z\" clipRule=\"evenodd\" />\n                                            </svg>\n                                        </button>\n                                    )}\n                                </div>\n                            ))}\n                            {/* Option to add more files even if some are selected */}\n                            {!isUploadingAll && (\n                                <label htmlFor=\"photo-upload-input\" className={styles['add-more-files-label']}>\n                                    + Add More Files\n                                </label>\n                            )}\n                        </div>\n                    )}\n                </div>\n\n                {overallError && <p className={styles['overall-error-message']}>{overallError}</p>}\n\n                {/* Main Action Buttons */}\n                <div className={styles['button-row']}>\n                    <button\n                        className={`button ${styles['upload-button']}`}\n                        onClick={handleUploadAll} // CHANGED: Upload all selected files\n                        disabled={selectedFiles.length === 0 || isUploadingAll}\n                    >\n                        {isUploadingAll ? 'Uploading All...' : 'Upload All'}\n                    </button>\n                    <button className={styles['cancel-button-override']} onClick={handleDone} disabled={isUploadingAll}>\n                        Done\n                    </button>\n                </div>\n            </div>\n        </div>\n    );\n};\n\nexport default PhotoUploadModal;"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}