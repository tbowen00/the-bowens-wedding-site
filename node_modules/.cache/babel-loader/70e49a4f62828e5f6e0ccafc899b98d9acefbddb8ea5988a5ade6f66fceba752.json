{"ast":null,"code":"var _jsxFileName = \"/Users/brooklynlanning/Desktop/Event Websites/the-bowens-wedding-site/src/modals/PhotoUploadModal/PhotoUploadModal.js\",\n  _s = $RefreshSig$();\n// src/modals/PhotoUploadModal/PhotoUploadModal.js\nimport React, { useState } from 'react';\nimport styles from './PhotoUploadModal.module.css'; // Assuming PhotoUploadModal.module.css\nimport commonModalStyles from '../Modal/Modal.module.css'; // Reusing common modal styles\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst PhotoUploadModal = ({\n  isOpen,\n  onClose,\n  onUploadSuccess\n}) => {\n  _s();\n  const [selectedFile, setSelectedFile] = useState(null);\n  const [previewUrl, setPreviewUrl] = useState('');\n  const [isUploading, setIsUploading] = useState(false);\n  const [uploadError, setUploadError] = useState('');\n  const CLOUDINARY_CLOUD_NAME = 'YOUR_CLOUDINARY_CLOUD_NAME'; // REPLACE THIS\n  const CLOUDINARY_UPLOAD_PRESET = 'YOUR_UPLOAD_PRESET_NAME'; // REPLACE THIS (e.g., wedding_upload_preset)\n\n  const handleFileChange = event => {\n    const file = event.target.files[0];\n    if (file) {\n      setSelectedFile(file);\n      setPreviewUrl(URL.createObjectURL(file)); // Create a local URL for image preview\n      setUploadError('');\n    } else {\n      setSelectedFile(null);\n      setPreviewUrl('');\n    }\n  };\n  const handleUpload = async () => {\n    if (!selectedFile) {\n      setUploadError('Please select a file first.');\n      return;\n    }\n    setIsUploading(true);\n    setUploadError('');\n    const formData = new FormData();\n    formData.append('file', selectedFile);\n    formData.append('upload_preset', CLOUDINARY_UPLOAD_PRESET);\n    try {\n      const response = await fetch(`http://googleusercontent.com/api.cloudinary.com/v1_1/${CLOUDINARY_CLOUD_NAME}/image/upload`, {\n        method: 'POST',\n        body: formData\n      });\n      if (!response.ok) {\n        const errorData = await response.json();\n        throw new Error(errorData.error.message || 'Image upload failed.');\n      }\n      const data = await response.json();\n      console.log('Uploaded image data:', data);\n\n      // Call onUploadSuccess to update gallery and close modal\n      onUploadSuccess(data.secure_url); // Pass the URL of the uploaded image\n\n      // Reset state\n      setSelectedFile(null);\n      setPreviewUrl('');\n      onClose();\n    } catch (error) {\n      console.error('Error uploading image:', error);\n      setUploadError(error.message || 'Failed to upload image. Please try again.');\n    } finally {\n      setIsUploading(false);\n    }\n  };\n  if (!isOpen) return null;\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: `${commonModalStyles['simple-modal']} ${isOpen ? commonModalStyles['show'] : ''}`,\n    onClick: onClose,\n    role: \"dialog\",\n    \"aria-modal\": \"true\",\n    children: /*#__PURE__*/_jsxDEV(\"div\", {\n      className: `${commonModalStyles['simple-modal-content']} ${styles['photo-upload-modal-content']}`,\n      onClick: e => e.stopPropagation(),\n      children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n        children: \"Upload Your Photos\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 78,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n        children: \"Share your favorite moments from our special day!\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 79,\n        columnNumber: 17\n      }, this), previewUrl && /*#__PURE__*/_jsxDEV(\"div\", {\n        className: styles['image-preview-container'],\n        children: /*#__PURE__*/_jsxDEV(\"img\", {\n          src: previewUrl,\n          alt: \"Selected preview\",\n          className: styles['image-preview']\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 83,\n          columnNumber: 25\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 82,\n        columnNumber: 21\n      }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n        type: \"file\",\n        accept: \"image/*\",\n        onChange: handleFileChange,\n        className: styles['file-input'],\n        id: \"photo-upload-input\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 87,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"label\", {\n        htmlFor: \"photo-upload-input\",\n        className: styles['file-input-label'],\n        children: selectedFile ? selectedFile.name : 'Choose Photo'\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 94,\n        columnNumber: 17\n      }, this), uploadError && /*#__PURE__*/_jsxDEV(\"p\", {\n        className: styles['error-message'],\n        children: uploadError\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 98,\n        columnNumber: 33\n      }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n        className: `${commonModalStyles['button']} ${styles['upload-button']}`,\n        onClick: handleUpload,\n        disabled: !selectedFile || isUploading,\n        children: isUploading ? 'Uploading...' : 'Upload Photo'\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 100,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n        className: commonModalStyles['cancel-button'],\n        onClick: onClose,\n        disabled: isUploading,\n        children: \"Cancel\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 107,\n        columnNumber: 17\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 77,\n      columnNumber: 13\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 76,\n    columnNumber: 9\n  }, this);\n};\n_s(PhotoUploadModal, \"zsyLp2Kv33r+4xshofGwUOwTu74=\");\n_c = PhotoUploadModal;\nexport default PhotoUploadModal;\nvar _c;\n$RefreshReg$(_c, \"PhotoUploadModal\");","map":{"version":3,"names":["React","useState","styles","commonModalStyles","jsxDEV","_jsxDEV","PhotoUploadModal","isOpen","onClose","onUploadSuccess","_s","selectedFile","setSelectedFile","previewUrl","setPreviewUrl","isUploading","setIsUploading","uploadError","setUploadError","CLOUDINARY_CLOUD_NAME","CLOUDINARY_UPLOAD_PRESET","handleFileChange","event","file","target","files","URL","createObjectURL","handleUpload","formData","FormData","append","response","fetch","method","body","ok","errorData","json","Error","error","message","data","console","log","secure_url","className","onClick","role","children","e","stopPropagation","fileName","_jsxFileName","lineNumber","columnNumber","src","alt","type","accept","onChange","id","htmlFor","name","disabled","_c","$RefreshReg$"],"sources":["/Users/brooklynlanning/Desktop/Event Websites/the-bowens-wedding-site/src/modals/PhotoUploadModal/PhotoUploadModal.js"],"sourcesContent":["// src/modals/PhotoUploadModal/PhotoUploadModal.js\nimport React, { useState } from 'react';\nimport styles from './PhotoUploadModal.module.css'; // Assuming PhotoUploadModal.module.css\nimport commonModalStyles from '../Modal/Modal.module.css'; // Reusing common modal styles\n\nconst PhotoUploadModal = ({ isOpen, onClose, onUploadSuccess }) => {\n    const [selectedFile, setSelectedFile] = useState(null);\n    const [previewUrl, setPreviewUrl] = useState('');\n    const [isUploading, setIsUploading] = useState(false);\n    const [uploadError, setUploadError] = useState('');\n\n    const CLOUDINARY_CLOUD_NAME = 'YOUR_CLOUDINARY_CLOUD_NAME'; // REPLACE THIS\n    const CLOUDINARY_UPLOAD_PRESET = 'YOUR_UPLOAD_PRESET_NAME'; // REPLACE THIS (e.g., wedding_upload_preset)\n\n    const handleFileChange = (event) => {\n        const file = event.target.files[0];\n        if (file) {\n            setSelectedFile(file);\n            setPreviewUrl(URL.createObjectURL(file)); // Create a local URL for image preview\n            setUploadError('');\n        } else {\n            setSelectedFile(null);\n            setPreviewUrl('');\n        }\n    };\n\n    const handleUpload = async () => {\n        if (!selectedFile) {\n            setUploadError('Please select a file first.');\n            return;\n        }\n\n        setIsUploading(true);\n        setUploadError('');\n\n        const formData = new FormData();\n        formData.append('file', selectedFile);\n        formData.append('upload_preset', CLOUDINARY_UPLOAD_PRESET);\n\n        try {\n            const response = await fetch(\n                `http://googleusercontent.com/api.cloudinary.com/v1_1/${CLOUDINARY_CLOUD_NAME}/image/upload`,\n                {\n                    method: 'POST',\n                    body: formData,\n                }\n            );\n\n            if (!response.ok) {\n                const errorData = await response.json();\n                throw new Error(errorData.error.message || 'Image upload failed.');\n            }\n\n            const data = await response.json();\n            console.log('Uploaded image data:', data);\n            \n            // Call onUploadSuccess to update gallery and close modal\n            onUploadSuccess(data.secure_url); // Pass the URL of the uploaded image\n            \n            // Reset state\n            setSelectedFile(null);\n            setPreviewUrl('');\n            onClose();\n\n        } catch (error) {\n            console.error('Error uploading image:', error);\n            setUploadError(error.message || 'Failed to upload image. Please try again.');\n        } finally {\n            setIsUploading(false);\n        }\n    };\n\n    if (!isOpen) return null;\n\n    return (\n        <div className={`${commonModalStyles['simple-modal']} ${isOpen ? commonModalStyles['show'] : ''}`} onClick={onClose} role=\"dialog\" aria-modal=\"true\">\n            <div className={`${commonModalStyles['simple-modal-content']} ${styles['photo-upload-modal-content']}`} onClick={e => e.stopPropagation()}>\n                <h2>Upload Your Photos</h2>\n                <p>Share your favorite moments from our special day!</p>\n                \n                {previewUrl && (\n                    <div className={styles['image-preview-container']}>\n                        <img src={previewUrl} alt=\"Selected preview\" className={styles['image-preview']} />\n                    </div>\n                )}\n\n                <input\n                    type=\"file\"\n                    accept=\"image/*\"\n                    onChange={handleFileChange}\n                    className={styles['file-input']}\n                    id=\"photo-upload-input\"\n                />\n                <label htmlFor=\"photo-upload-input\" className={styles['file-input-label']}>\n                    {selectedFile ? selectedFile.name : 'Choose Photo'}\n                </label>\n\n                {uploadError && <p className={styles['error-message']}>{uploadError}</p>}\n\n                <button\n                    className={`${commonModalStyles['button']} ${styles['upload-button']}`}\n                    onClick={handleUpload}\n                    disabled={!selectedFile || isUploading}\n                >\n                    {isUploading ? 'Uploading...' : 'Upload Photo'}\n                </button>\n                <button className={commonModalStyles['cancel-button']} onClick={onClose} disabled={isUploading}>Cancel</button>\n            </div>\n        </div>\n    );\n};\n\nexport default PhotoUploadModal;"],"mappings":";;AAAA;AACA,OAAOA,KAAK,IAAIC,QAAQ,QAAQ,OAAO;AACvC,OAAOC,MAAM,MAAM,+BAA+B,CAAC,CAAC;AACpD,OAAOC,iBAAiB,MAAM,2BAA2B,CAAC,CAAC;AAAA,SAAAC,MAAA,IAAAC,OAAA;AAE3D,MAAMC,gBAAgB,GAAGA,CAAC;EAAEC,MAAM;EAAEC,OAAO;EAAEC;AAAgB,CAAC,KAAK;EAAAC,EAAA;EAC/D,MAAM,CAACC,YAAY,EAAEC,eAAe,CAAC,GAAGX,QAAQ,CAAC,IAAI,CAAC;EACtD,MAAM,CAACY,UAAU,EAAEC,aAAa,CAAC,GAAGb,QAAQ,CAAC,EAAE,CAAC;EAChD,MAAM,CAACc,WAAW,EAAEC,cAAc,CAAC,GAAGf,QAAQ,CAAC,KAAK,CAAC;EACrD,MAAM,CAACgB,WAAW,EAAEC,cAAc,CAAC,GAAGjB,QAAQ,CAAC,EAAE,CAAC;EAElD,MAAMkB,qBAAqB,GAAG,4BAA4B,CAAC,CAAC;EAC5D,MAAMC,wBAAwB,GAAG,yBAAyB,CAAC,CAAC;;EAE5D,MAAMC,gBAAgB,GAAIC,KAAK,IAAK;IAChC,MAAMC,IAAI,GAAGD,KAAK,CAACE,MAAM,CAACC,KAAK,CAAC,CAAC,CAAC;IAClC,IAAIF,IAAI,EAAE;MACNX,eAAe,CAACW,IAAI,CAAC;MACrBT,aAAa,CAACY,GAAG,CAACC,eAAe,CAACJ,IAAI,CAAC,CAAC,CAAC,CAAC;MAC1CL,cAAc,CAAC,EAAE,CAAC;IACtB,CAAC,MAAM;MACHN,eAAe,CAAC,IAAI,CAAC;MACrBE,aAAa,CAAC,EAAE,CAAC;IACrB;EACJ,CAAC;EAED,MAAMc,YAAY,GAAG,MAAAA,CAAA,KAAY;IAC7B,IAAI,CAACjB,YAAY,EAAE;MACfO,cAAc,CAAC,6BAA6B,CAAC;MAC7C;IACJ;IAEAF,cAAc,CAAC,IAAI,CAAC;IACpBE,cAAc,CAAC,EAAE,CAAC;IAElB,MAAMW,QAAQ,GAAG,IAAIC,QAAQ,CAAC,CAAC;IAC/BD,QAAQ,CAACE,MAAM,CAAC,MAAM,EAAEpB,YAAY,CAAC;IACrCkB,QAAQ,CAACE,MAAM,CAAC,eAAe,EAAEX,wBAAwB,CAAC;IAE1D,IAAI;MACA,MAAMY,QAAQ,GAAG,MAAMC,KAAK,CACxB,wDAAwDd,qBAAqB,eAAe,EAC5F;QACIe,MAAM,EAAE,MAAM;QACdC,IAAI,EAAEN;MACV,CACJ,CAAC;MAED,IAAI,CAACG,QAAQ,CAACI,EAAE,EAAE;QACd,MAAMC,SAAS,GAAG,MAAML,QAAQ,CAACM,IAAI,CAAC,CAAC;QACvC,MAAM,IAAIC,KAAK,CAACF,SAAS,CAACG,KAAK,CAACC,OAAO,IAAI,sBAAsB,CAAC;MACtE;MAEA,MAAMC,IAAI,GAAG,MAAMV,QAAQ,CAACM,IAAI,CAAC,CAAC;MAClCK,OAAO,CAACC,GAAG,CAAC,sBAAsB,EAAEF,IAAI,CAAC;;MAEzC;MACAjC,eAAe,CAACiC,IAAI,CAACG,UAAU,CAAC,CAAC,CAAC;;MAElC;MACAjC,eAAe,CAAC,IAAI,CAAC;MACrBE,aAAa,CAAC,EAAE,CAAC;MACjBN,OAAO,CAAC,CAAC;IAEb,CAAC,CAAC,OAAOgC,KAAK,EAAE;MACZG,OAAO,CAACH,KAAK,CAAC,wBAAwB,EAAEA,KAAK,CAAC;MAC9CtB,cAAc,CAACsB,KAAK,CAACC,OAAO,IAAI,2CAA2C,CAAC;IAChF,CAAC,SAAS;MACNzB,cAAc,CAAC,KAAK,CAAC;IACzB;EACJ,CAAC;EAED,IAAI,CAACT,MAAM,EAAE,OAAO,IAAI;EAExB,oBACIF,OAAA;IAAKyC,SAAS,EAAE,GAAG3C,iBAAiB,CAAC,cAAc,CAAC,IAAII,MAAM,GAAGJ,iBAAiB,CAAC,MAAM,CAAC,GAAG,EAAE,EAAG;IAAC4C,OAAO,EAAEvC,OAAQ;IAACwC,IAAI,EAAC,QAAQ;IAAC,cAAW,MAAM;IAAAC,QAAA,eAChJ5C,OAAA;MAAKyC,SAAS,EAAE,GAAG3C,iBAAiB,CAAC,sBAAsB,CAAC,IAAID,MAAM,CAAC,4BAA4B,CAAC,EAAG;MAAC6C,OAAO,EAAEG,CAAC,IAAIA,CAAC,CAACC,eAAe,CAAC,CAAE;MAAAF,QAAA,gBACtI5C,OAAA;QAAA4C,QAAA,EAAI;MAAkB;QAAAG,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OAAI,CAAC,eAC3BlD,OAAA;QAAA4C,QAAA,EAAG;MAAiD;QAAAG,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OAAG,CAAC,EAEvD1C,UAAU,iBACPR,OAAA;QAAKyC,SAAS,EAAE5C,MAAM,CAAC,yBAAyB,CAAE;QAAA+C,QAAA,eAC9C5C,OAAA;UAAKmD,GAAG,EAAE3C,UAAW;UAAC4C,GAAG,EAAC,kBAAkB;UAACX,SAAS,EAAE5C,MAAM,CAAC,eAAe;QAAE;UAAAkD,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OAAE;MAAC;QAAAH,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OAClF,CACR,eAEDlD,OAAA;QACIqD,IAAI,EAAC,MAAM;QACXC,MAAM,EAAC,SAAS;QAChBC,QAAQ,EAAEvC,gBAAiB;QAC3ByB,SAAS,EAAE5C,MAAM,CAAC,YAAY,CAAE;QAChC2D,EAAE,EAAC;MAAoB;QAAAT,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OAC1B,CAAC,eACFlD,OAAA;QAAOyD,OAAO,EAAC,oBAAoB;QAAChB,SAAS,EAAE5C,MAAM,CAAC,kBAAkB,CAAE;QAAA+C,QAAA,EACrEtC,YAAY,GAAGA,YAAY,CAACoD,IAAI,GAAG;MAAc;QAAAX,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OAC/C,CAAC,EAEPtC,WAAW,iBAAIZ,OAAA;QAAGyC,SAAS,EAAE5C,MAAM,CAAC,eAAe,CAAE;QAAA+C,QAAA,EAAEhC;MAAW;QAAAmC,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OAAI,CAAC,eAExElD,OAAA;QACIyC,SAAS,EAAE,GAAG3C,iBAAiB,CAAC,QAAQ,CAAC,IAAID,MAAM,CAAC,eAAe,CAAC,EAAG;QACvE6C,OAAO,EAAEnB,YAAa;QACtBoC,QAAQ,EAAE,CAACrD,YAAY,IAAII,WAAY;QAAAkC,QAAA,EAEtClC,WAAW,GAAG,cAAc,GAAG;MAAc;QAAAqC,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OAC1C,CAAC,eACTlD,OAAA;QAAQyC,SAAS,EAAE3C,iBAAiB,CAAC,eAAe,CAAE;QAAC4C,OAAO,EAAEvC,OAAQ;QAACwD,QAAQ,EAAEjD,WAAY;QAAAkC,QAAA,EAAC;MAAM;QAAAG,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OAAQ,CAAC;IAAA;MAAAH,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA,OAC9G;EAAC;IAAAH,QAAA,EAAAC,YAAA;IAAAC,UAAA;IAAAC,YAAA;EAAA,OACL,CAAC;AAEd,CAAC;AAAC7C,EAAA,CAzGIJ,gBAAgB;AAAA2D,EAAA,GAAhB3D,gBAAgB;AA2GtB,eAAeA,gBAAgB;AAAC,IAAA2D,EAAA;AAAAC,YAAA,CAAAD,EAAA","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}